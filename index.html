<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harsh Bafna | Founder & AI Engineer</title>
    
    <!-- Premium Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@400;600&family=General+Sans:wght@400;500;600&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg: #FFFBF5; /* Creamy Paper */
            --text-main: #181823;
            --accent: #537FE7; /* Matches the character's shirt */
            --glass: rgba(255, 255, 255, 0.7);
            --border: rgba(24, 24, 35, 0.08);
            --font-head: 'Clash Display', sans-serif;
            --font-body: 'General Sans', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg);
            color: var(--text-main);
            font-family: var(--font-body);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* 3D Canvas Background */
        #canvas-container {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            z-index: 0;
            pointer-events: none;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0; width: 100%;
            padding: 1.5rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            backdrop-filter: blur(12px);
            background: rgba(255, 251, 245, 0.5);
            border-bottom: 1px solid var(--border);
        }

        .logo {
            font-family: var(--font-head);
            font-weight: 600;
            font-size: 1.4rem;
            color: var(--text-main);
        }

        .menu { display: flex; gap: 2rem; }
        .menu a {
            color: var(--text-main);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            position: relative;
        }
        .menu a:hover { color: var(--accent); }

        /* Layout */
        main { position: relative; z-index: 1; }

        section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 6rem 10%;
            position: relative;
        }

        .container {
            max-width: 550px;
            pointer-events: auto;
        }

        /* Desktop Alternating Layout */
        section:nth-child(odd) .container { margin-right: auto; }
        section:nth-child(even) .container { margin-left: auto; text-align: right; }
        section:nth-child(even) .tags-container { justify-content: flex-end; }

        /* Typography */
        h1 {
            font-family: var(--font-head);
            font-size: clamp(3rem, 6vw, 4.5rem);
            line-height: 1.1;
            margin-bottom: 1.5rem;
            font-weight: 600;
        }
        
        h1 span { color: var(--accent); }

        h2 {
            font-family: var(--font-head);
            font-size: 2.8rem;
            margin-bottom: 2.5rem;
            font-weight: 600;
        }

        h3 { font-size: 1.3rem; font-weight: 600; margin-bottom: 0.2rem; }
        h4 { font-size: 0.95rem; color: #666; font-weight: 500; margin-bottom: 1rem; }

        p {
            font-size: 1.05rem;
            color: #444;
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }

        /* Cards */
        .card {
            background: var(--glass);
            padding: 2rem;
            border-radius: 16px;
            border: 1px solid var(--border);
            margin-bottom: 1.5rem;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.02);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(83, 127, 231, 0.1);
            border-color: var(--accent);
        }

        .tags-container { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 1rem; }
        .tag {
            font-size: 0.75rem;
            padding: 6px 14px;
            border-radius: 50px;
            background: #fff;
            border: 1px solid #eee;
            font-weight: 600;
            color: #555;
        }

        .btn {
            display: inline-block;
            padding: 14px 35px;
            background: var(--text-main);
            color: #fff;
            text-decoration: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s;
        }
        .btn:hover { background: var(--accent); transform: translateY(-2px); }

        /* Loader */
        #loader {
            position: fixed; top:0; left:0; width:100%; height:100%;
            background: var(--bg); z-index: 999;
            display: flex; justify-content: center; align-items: center;
            font-family: var(--font-head); font-size: 2rem; font-weight: 600;
            transition: opacity 0.5s;
        }

        /* Mobile */
        @media (max-width: 900px) {
            nav { padding: 1rem 1.5rem; justify-content: center; }
            .menu { display: none; }
            section { padding: 4rem 1.5rem; justify-content: center; padding-bottom: 30vh; }
            section:nth-child(even) .container, section:nth-child(odd) .container { 
                margin: 0 auto; text-align: left; 
            }
            section:nth-child(even) .tags-container { justify-content: flex-start; }
            h1 { font-size: 3rem; }
        }
    </style>
</head>
<body>

    <div id="loader">HB.</div>

    <nav>
        <div class="logo">Harsh Bafna.</div>
        <div class="menu">
            <a href="#hero">Intro</a>
            <a href="#experience">Experience</a>
            <a href="#projects">Work</a>
            <a href="#contact">Contact</a>
        </div>
    </nav>

    <div id="canvas-container"></div>

    <main>
        <!-- HERO -->
        <section id="hero">
            <div class="container">
                <div class="tag" style="display:inline-block; margin-bottom:15px; color:var(--accent); border-color:var(--accent);">Available for hire</div>
                <h1>Hi, I'm Harsh.<br><span>AI Engineer</span> & Founder.</h1>
                <p>I build intelligent platforms and digital experiences. Currently scaling Terapush and optimizing ML models.</p>
                <div style="margin-top: 2rem;">
                    <a href="#experience" class="btn">See My Journey</a>
                </div>
            </div>
        </section>

        <!-- EXPERIENCE -->
        <section id="experience">
            <div class="container">
                <h2>Experience</h2>
                
                <div class="card">
                    <h3>Founder & Director</h3>
                    <h4>Terapush | Jan 2021 - Present</h4>
                    <p>Leading a collaborative platform connecting startups, investors, and freelancers. Driving product innovation and strategic partnerships in the Bengaluru ecosystem.</p>
                </div>

                <div class="card">
                    <h3>ML Data Associate</h3>
                    <h4>Amazon | Apr 2024 - Jul 2025</h4>
                    <p>Optimized search algorithms through human-labeled data validation. Mentored 8 associates and awarded "Rookie Rockstar" for performance excellence.</p>
                </div>

                <div class="card">
                    <h3>Machine Learning Engineer</h3>
                    <h4>TechCiti | Jun 2022 - Aug 2022</h4>
                    <p>Implemented PyTorch models for unsupervised learning projects. Focused on data analysis and model accuracy enhancement.</p>
                </div>
            </div>
        </section>

        <!-- PROJECTS -->
        <section id="projects">
            <div class="container">
                <h2>Selected Work</h2>
                
                <div class="card">
                    <h3>English to Hinglish Translator</h3>
                    <h4>NLP & Web App</h4>
                    <p>A Streamlit application blending Hindi and English using NLP. Features custom dictionary support.</p>
                    <div class="tags-container">
                        <span class="tag">Python</span>
                        <span class="tag">Streamlit</span>
                        <span class="tag">NLP</span>
                    </div>
                </div>

                <div class="card">
                    <h3>Handwritten Digit Recognition</h3>
                    <h4>Computer Vision</h4>
                    <p>High-accuracy deep learning model trained on MNIST dataset, optimized for real-time web deployment.</p>
                    <div class="tags-container">
                        <span class="tag">TensorFlow</span>
                        <span class="tag">CNN</span>
                    </div>
                </div>

                <div class="card">
                    <h3>Parking Space Detection</h3>
                    <h4>OpenCV Automation</h4>
                    <p>Real-time video processing system that identifies and counts available parking spots.</p>
                    <div class="tags-container">
                        <span class="tag">OpenCV</span>
                        <span class="tag">Python</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- CERTIFICATIONS -->
        <section id="certifications">
            <div class="container">
                <h2>Certs & Education</h2>
                <div class="card">
                    <h3>B.Tech Artificial Intelligence</h3>
                    <h4>P P Savani University | 2020 - 2024</h4>
                </div>
                <div class="tags-container">
                    <span class="tag">IBM Data Science</span>
                    <span class="tag">AWS Cloud Foundations</span>
                    <span class="tag">Tableau Analyst</span>
                    <span class="tag">IBM Cybersecurity</span>
                    <span class="tag">Python (HackerRank)</span>
                </div>
            </div>
        </section>

        <!-- CONTACT -->
        <section id="contact">
            <div class="container">
                <h2>Let's Talk</h2>
                <p>Have an idea? I'm open to freelance projects and full-time roles.</p>
                <div style="margin-top: 2rem;">
                    <a href="mailto:harsh@example.com" class="btn">Email Me</a>
                    <a href="https://linkedin.com/in/bafnaharsh" target="_blank" class="btn" style="background: #0077b5; margin-left: 10px;">LinkedIn</a>
                </div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <script>
        /* =========================================
           SCENE & LIGHTING (Bright & Toon-like)
           ========================================= */
        const container = document.getElementById('canvas-container');
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0xFFFBF5); // Match CSS bg
        scene.fog = new THREE.Fog(0xFFFBF5, 10, 30);
        
        const camera = new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 0.1, 100);
        camera.position.set(0, 1.2, 12);

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFSoftShadowMap;
        container.appendChild(renderer.domElement);

        // High Ambient light for 2D look
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.9); 
        scene.add(ambientLight);

        const dirLight = new THREE.DirectionalLight(0xffffff, 0.5);
        dirLight.position.set(5, 10, 8);
        dirLight.castShadow = true;
        dirLight.shadow.mapSize.width = 1024;
        dirLight.shadow.mapSize.height = 1024;
        scene.add(dirLight);

        /* =========================================
           COLORFUL CHARACTER CREATION
           ========================================= */
        const characterGroup = new THREE.Group();
        scene.add(characterGroup);

        // Palette
        const colors = {
            skin: 0xffcdb3,
            shirt: 0x537FE7, // Vivid Blue
            pants: 0x2C3333, // Dark Charcoal
            shoes: 0xffffff,
            hair: 0x1a1a1a
        };

        // Materials (Matte/Toon style)
        const mats = {
            skin: new THREE.MeshLambertMaterial({ color: colors.skin }),
            shirt: new THREE.MeshLambertMaterial({ color: colors.shirt }),
            pants: new THREE.MeshLambertMaterial({ color: colors.pants }),
            shoes: new THREE.MeshLambertMaterial({ color: colors.shoes }),
            hair: new THREE.MeshLambertMaterial({ color: colors.hair }),
            eyes: new THREE.MeshBasicMaterial({ color: 0x000000 })
        };

        // Helper to create boxy limbs (Stylized)
        function createBoxLimb(w, h, d, mat, yOffset) {
            const grp = new THREE.Group();
            const geo = new THREE.BoxGeometry(w, h, d);
            const mesh = new THREE.Mesh(geo, mat);
            mesh.position.y = -h / 2; // pivot at top
            mesh.castShadow = true;
            mesh.receiveShadow = true;
            grp.add(mesh);
            return { group: grp, mesh: mesh, height: h };
        }

        // --- RIGGING ---

        // 1. Hips/Lower Body
        const hips = new THREE.Group();
        characterGroup.add(hips);

        // Pelvis (Hidden mostly)
        const pelvisGeo = new THREE.BoxGeometry(0.35, 0.15, 0.25);
        const pelvis = new THREE.Mesh(pelvisGeo, mats.pants);
        hips.add(pelvis);

        // Legs
        const legW = 0.14, legH = 1.2, legD = 0.16;
        
        // Right Leg
        const rLeg = createBoxLimb(legW, legH, legD, mats.pants);
        rLeg.group.position.set(0.1, 0, 0);
        hips.add(rLeg.group);
        // Shoe
        const rShoe = new THREE.Mesh(new THREE.BoxGeometry(0.16, 0.1, 0.28), mats.shoes);
        rShoe.position.y = -legH;
        rShoe.position.z = 0.05;
        rLeg.group.add(rShoe);

        // Left Leg
        const lLeg = createBoxLimb(legW, legH, legD, mats.pants);
        lLeg.group.position.set(-0.1, 0, 0);
        hips.add(lLeg.group);
        // Shoe
        const lShoe = new THREE.Mesh(new THREE.BoxGeometry(0.16, 0.1, 0.28), mats.shoes);
        lShoe.position.y = -legH;
        lShoe.position.z = 0.05;
        lLeg.group.add(lShoe);


        // 2. Upper Body
        const torsoH = 1.1;
        const torsoW = 0.45;
        const torsoGroup = new THREE.Group();
        torsoGroup.position.y = 0.15; // slightly above hips
        hips.add(torsoGroup);

        const torsoGeo = new THREE.BoxGeometry(torsoW, torsoH, 0.25);
        const torso = new THREE.Mesh(torsoGeo, mats.shirt);
        torso.position.y = torsoH / 2;
        torso.castShadow = true;
        torsoGroup.add(torso);

        // Head
        const headGroup = new THREE.Group();
        headGroup.position.y = torsoH + 0.35;
        torsoGroup.add(headGroup);

        // Face Shape
        const headGeo = new THREE.BoxGeometry(0.35, 0.4, 0.35); // Boxy head
        const head = new THREE.Mesh(headGeo, mats.skin);
        head.castShadow = true;
        headGroup.add(head);

        // Hair
        const hairGeo = new THREE.BoxGeometry(0.37, 0.15, 0.37);
        const hair = new THREE.Mesh(hairGeo, mats.hair);
        hair.position.y = 0.2; // Top of head
        headGroup.add(hair);

        // Eyes (for tracking)
        const eyeGeo = new THREE.SphereGeometry(0.03, 8, 8);
        const eyeL = new THREE.Mesh(eyeGeo, mats.eyes);
        eyeL.position.set(-0.08, 0, 0.18);
        headGroup.add(eyeL);
        const eyeR = new THREE.Mesh(eyeGeo, mats.eyes);
        eyeR.position.set(0.08, 0, 0.18);
        headGroup.add(eyeR);


        // Arms
        const armW = 0.12, armH = 1.0;
        
        // Right Arm (Shirt sleeve + Skin arm)
        const rArmGrp = new THREE.Group();
        rArmGrp.position.set(0.32, torsoH - 0.1, 0);
        torsoGroup.add(rArmGrp);
        
        // Sleeve
        const rSleeve = new THREE.Mesh(new THREE.BoxGeometry(0.14, 0.25, 0.16), mats.shirt);
        rSleeve.position.y = -0.1;
        rArmGrp.add(rSleeve);
        // Arm
        const rForeArm = new THREE.Mesh(new THREE.BoxGeometry(0.1, 0.8, 0.1), mats.skin);
        rForeArm.position.y = -0.55;
        rArmGrp.add(rForeArm);

        // Left Arm
        const lArmGrp = new THREE.Group();
        lArmGrp.position.set(-0.32, torsoH - 0.1, 0);
        torsoGroup.add(lArmGrp);

        // Sleeve
        const lSleeve = new THREE.Mesh(new THREE.BoxGeometry(0.14, 0.25, 0.16), mats.shirt);
        lSleeve.position.y = -0.1;
        lArmGrp.add(lSleeve);
        // Arm
        const lForeArm = new THREE.Mesh(new THREE.BoxGeometry(0.1, 0.8, 0.1), mats.skin);
        lForeArm.position.y = -0.55;
        lArmGrp.add(lForeArm);


        // Shadow
        const shadowPlane = new THREE.Mesh(
            new THREE.CircleGeometry(1.5, 32),
            new THREE.MeshBasicMaterial({ color: 0x000000, transparent: true, opacity: 0.1 })
        );
        shadowPlane.rotation.x = -Math.PI / 2;
        shadowPlane.position.y = -legH;
        characterGroup.add(shadowPlane);


        /* =========================================
           ANIMATION LOOP
           ========================================= */
        let mouse = { x: 0, y: 0 };
        window.addEventListener('mousemove', (e) => {
            mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;
        });

        const clock = new THREE.Clock();

        function animate() {
            requestAnimationFrame(animate);
            const time = clock.getElapsedTime();

            // Idle Bobbing
            characterGroup.position.y = Math.sin(time * 1.5) * 0.05;

            // Head Looking
            headGroup.rotation.y = THREE.MathUtils.lerp(headGroup.rotation.y, mouse.x * 0.5, 0.1);
            headGroup.rotation.x = THREE.MathUtils.lerp(headGroup.rotation.x, mouse.y * 0.3, 0.1);

            renderer.render(scene, camera);
        }
        animate();

        /* =========================================
           SCROLL ANIMATIONS (GSAP)
           ========================================= */
        gsap.registerPlugin(ScrollTrigger);

        // Responsive Helpers
        const isMobile = () => window.innerWidth < 900;
        const getX = (d, m) => isMobile() ? m : d;
        const getY = (d, m) => isMobile() ? m : d;
        const getZ = (d, m) => isMobile() ? m : d;

        // 1. Initial State: Waving
        gsap.set(rArmGrp.rotation, { z: 2.8, x: 0.2 }); 
        gsap.to(rArmGrp.rotation, { z: 2.2, yoyo: true, repeat: -1, duration: 0.6, ease: "sine.inOut" });
        gsap.set(lArmGrp.rotation, { z: -0.1 });

        // Master Timeline creation function to handle resize
        let animations = [];

        function createScrollAnimations() {
            // Clear old animations if resizing
            animations.forEach(anim => anim.kill());
            animations = [];

            // 1. Hero -> Experience (Pondering)
            let tl1 = gsap.timeline({
                scrollTrigger: {
                    trigger: "#experience",
                    start: "top center",
                    end: "bottom center",
                    scrub: 1
                }
            });
            
            // Movement
            tl1.to(characterGroup.position, {
                x: getX(3.5, 0),
                y: getY(-0.5, -2),
                z: getZ(0, -2) // Push back on mobile
            });

            // Pose
            tl1.to(rArmGrp.rotation, { z: 0.1 }, 0); // Stop wave
            tl1.to(lArmGrp.rotation, { z: -2.0, x: 0.5 }, 0); // Hand to chin
            tl1.to(characterGroup.rotation, { y: -0.6 }, 0); // Face text
            
            animations.push(tl1);

            // 2. Experience -> Projects (Presenting)
            let tl2 = gsap.timeline({
                scrollTrigger: {
                    trigger: "#projects",
                    start: "top center",
                    end: "bottom center",
                    scrub: 1
                }
            });

            tl2.to(characterGroup.position, {
                x: getX(-3.5, 0),
                y: getY(-0.5, -2)
            });

            tl2.to(characterGroup.rotation, { y: 0.6 }, 0); // Face other way
            tl2.to(lArmGrp.rotation, { z: -0.1, x: 0 }, 0); // Reset Left
            tl2.to(rArmGrp.rotation, { z: 1.5, y: 0.5 }, 0); // Point Right

            animations.push(tl2);

            // 3. Projects -> Certs (Confident)
            let tl3 = gsap.timeline({
                scrollTrigger: {
                    trigger: "#certifications",
                    start: "top center",
                    end: "bottom center",
                    scrub: 1
                }
            });

            tl3.to(characterGroup.position, {
                x: getX(3.5, 0),
                y: getY(0, -2.5)
            });

            tl3.to(characterGroup.rotation, { y: -0.3 }, 0);
            tl3.to(rArmGrp.rotation, { z: 0, x: 0 }, 0);
            tl3.to(lArmGrp.rotation, { z: 0, x: 0 }, 0);
            
            animations.push(tl3);

            // 4. Certs -> Contact (Close up)
            let tl4 = gsap.timeline({
                scrollTrigger: {
                    trigger: "#contact",
                    start: "top center",
                    end: "bottom bottom",
                    scrub: 1
                }
            });

            tl4.to(characterGroup.position, {
                x: 0,
                y: getY(-1.5, -1.8),
                z: 5 // Zoom in
            });
            
            tl4.to(characterGroup.rotation, { y: 0 }, 0);
            tl4.to(rArmGrp.rotation, { x: -0.5, z: 0.2 }, 0);
            tl4.to(lArmGrp.rotation, { x: -0.5, z: -0.2 }, 0);

            animations.push(tl4);
        }

        // Init
        createScrollAnimations();

        // Handle Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            createScrollAnimations();
        });

        // Hide Loader
        window.onload = () => {
            const loader = document.getElementById('loader');
            loader.style.opacity = '0';
            setTimeout(() => loader.style.display = 'none', 500);
        };

    </script>
</body>
</html>
